---
# tasks file for launch-instance

- name:  Creates a new instance and attaches to a specific network
  openstack.cloud.server:
    state: present
    auth:
      auth_url: https://identity.example.com
      username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31323461396237343465346266336631663237383236303866613666666266386133303665633961
          3235636633303066343662356634356536626134353533610a373731333530383964343336636661
          33386431386434613364636335643538386635313733363838353933643965613262336561363863
          3434636361363664660a323136336239643061616539336636623861326433366566393131393063
          3537

      password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34356530626638326430623132356131646261346166383238653736366230356631396162303933
          6239636530346564656166356266383038343639396161640a643132366235653931316532336333
          62613063356338643964376431363461386637666663313263323131623630306335393333653064
          3039393864626665390a373663626563363331313934663233643534613837303563363338643134
          6465

      project_name: admin
    name: vm1
    image: 4f905f38-e52a-43d2-b6ec-754a13ffb529
    key_name: ansible_key
    timeout: 200
    flavor: 4
    network: another_network
